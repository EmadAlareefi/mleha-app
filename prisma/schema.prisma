generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite" // change to "postgresql" for Neon
  url      = env("DATABASE_URL")
}

model WebhookEvent {
  id           String   @id @default(cuid())
  sallaEvent   String
  orderId      String?
  status       String?
  rawPayload   Json
  signature    String?
  receivedAt   DateTime @default(now())
  uniqueKey    String?  @unique
}

model MessageLog {
  id           String   @id @default(cuid())
  orderId      String?
  toPhone      String
  channel      String   // "whatsapp"
  templateName String?
  body         String?
  zokoMsgId    String?
  status       String   // "sent" | "failed"
  error        String?
  createdAt    DateTime @default(now())
}
